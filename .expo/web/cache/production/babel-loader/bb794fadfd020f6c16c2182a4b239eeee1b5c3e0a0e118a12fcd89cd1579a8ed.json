{"ast":null,"code":"import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{Formik}from'formik';import*as Yup from'yup';import axios from'axios';import*as Animatable from'react-native-animatable';import{Layout,Input,Button,Text}from'@ui-kitten/components';import{setUser}from'../redux/actions';import{useDispatch,useSelector}from'react-redux';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginScreen=({navigation})=>{const dispatch=useDispatch();const theme=useSelector(state=>state.theme);return _jsx(Formik,{initialValues:{email:'',password:''},validationSchema:Yup.object({email:Yup.string().email('Invalid email address').required('Required'),password:Yup.string().required('Required')}),onSubmit:async(values,{setSubmitting})=>{try{const response=await axios.post('http://localhost:3000/auth/login',values);const userData={userId:response.data.userId,token:response.data.token,subscriptionStatus:response.data.subscriptionStatus,trialEnd:response.data.trialEnd};dispatch(setUser(userData));navigation.navigate('JustEat',{token:response.data.token});}catch(error){console.error(error);}finally{setSubmitting(false);}},children:({handleChange,handleBlur,handleSubmit,values,errors,touched})=>_jsxs(Layout,{style:[styles.container,theme==='dark'?styles.darkContainer:styles.lightContainer],children:[_jsx(Animatable.Image,{animation:\"bounceIn\",duration:1500,source:require('../img/logo.png'),style:styles.logo}),_jsx(Text,{category:\"h3\",style:[styles.header,theme==='dark'?styles.darkText:styles.lightText],children:\"Lighting Grabber\"}),_jsx(Input,{label:\"Email\",onChangeText:handleChange('email'),onBlur:handleBlur('email'),value:values.email,placeholder:\"Email\",style:[styles.input,theme==='dark'?styles.darkInput:styles.lightInput],textStyle:{color:theme==='dark'?'#FFFFFF':'#222B45'},status:touched.email&&errors.email?'danger':'basic',caption:touched.email&&errors.email?errors.email:''}),_jsx(Input,{label:\"Password\",onChangeText:handleChange('password'),onBlur:handleBlur('password'),value:values.password,placeholder:\"Password\",secureTextEntry:true,style:[styles.input,theme==='dark'?styles.darkInput:styles.lightInput],textStyle:{color:theme==='dark'?'#FFFFFF':'#222B45'},status:touched.password&&errors.password?'danger':'basic',caption:touched.password&&errors.password?errors.password:''}),_jsx(Button,{onPress:handleSubmit,style:styles.button,children:\"Login\"}),_jsxs(View,{style:styles.registerContainer,children:[_jsx(Text,{style:[styles.text,theme==='dark'?styles.darkText:styles.lightText],children:\"Already registered?\"}),_jsx(Button,{onPress:()=>navigation.navigate('Register'),appearance:\"ghost\",children:\"Register\"})]})]})});};const styles=StyleSheet.create({container:{flex:1,justifyContent:'center',padding:16},darkContainer:{backgroundColor:'#222B45'},lightContainer:{backgroundColor:'#fff'},logo:{width:200,height:200,resizeMode:'contain',alignSelf:'center',marginBottom:16},header:{textAlign:'center',marginBottom:16},darkText:{color:'#FFFFFF'},lightText:{color:'#222B45'},input:{marginBottom:12},darkInput:{backgroundColor:'#333B50'},lightInput:{backgroundColor:'#F7F9FC'},button:{marginVertical:8},registerContainer:{flexDirection:'row',justifyContent:'center',alignItems:'center',marginTop:16},text:{marginRight:8}});export default LoginScreen;","map":{"version":3,"names":["React","StyleSheet","View","Formik","Yup","axios","Animatable","Layout","Input","Button","Text","setUser","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","LoginScreen","navigation","dispatch","theme","state","initialValues","email","password","validationSchema","object","string","required","onSubmit","values","setSubmitting","response","post","userData","userId","data","token","subscriptionStatus","trialEnd","navigate","error","console","children","handleChange","handleBlur","handleSubmit","errors","touched","style","styles","container","darkContainer","lightContainer","Image","animation","duration","source","require","logo","category","header","darkText","lightText","label","onChangeText","onBlur","value","placeholder","input","darkInput","lightInput","textStyle","color","status","caption","secureTextEntry","onPress","button","registerContainer","text","appearance","create","flex","justifyContent","padding","backgroundColor","width","height","resizeMode","alignSelf","marginBottom","textAlign","marginVertical","flexDirection","alignItems","marginTop","marginRight"],"sources":["C:/Users/Carlos/Desktop/LightingGrabberApp/LightingGrabberApp/src/screens/LoginScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { Layout, Input, Button, Text } from '@ui-kitten/components';\r\nimport { setUser } from '../redux/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst LoginScreen = ({ navigation }) => {\r\n  const dispatch = useDispatch();\r\n  const theme = useSelector(state => state.theme);\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ email: '', password: '' }}\r\n      validationSchema={Yup.object({\r\n        email: Yup.string().email('Invalid email address').required('Required'),\r\n        password: Yup.string().required('Required')\r\n      })}\r\n      onSubmit={async (values, { setSubmitting }) => {\r\n        try {\r\n          const response = await axios.post('http://localhost:3000/auth/login', values);\r\n          const userData = {\r\n            userId: response.data.userId,\r\n            token: response.data.token,\r\n            subscriptionStatus: response.data.subscriptionStatus,\r\n            trialEnd: response.data.trialEnd,\r\n          };\r\n          dispatch(setUser(userData));\r\n          navigation.navigate('JustEat', { token: response.data.token });\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setSubmitting(false);\r\n        }\r\n      }}\r\n    >\r\n      {({ handleChange, handleBlur, handleSubmit, values, errors, touched }) => (\r\n        <Layout style={[styles.container, theme === 'dark' ? styles.darkContainer : styles.lightContainer]}>\r\n          <Animatable.Image\r\n            animation=\"bounceIn\"\r\n            duration={1500}\r\n            source={require('../img/logo.png')}\r\n            style={styles.logo}\r\n          />\r\n          <Text category='h3' style={[styles.header, theme === 'dark' ? styles.darkText : styles.lightText]}>Lighting Grabber</Text>\r\n          <Input\r\n            label=\"Email\"\r\n            onChangeText={handleChange('email')}\r\n            onBlur={handleBlur('email')}\r\n            value={values.email}\r\n            placeholder=\"Email\"\r\n            style={[styles.input, theme === 'dark' ? styles.darkInput : styles.lightInput]}\r\n            textStyle={{ color: theme === 'dark' ? '#FFFFFF' : '#222B45' }}\r\n            status={touched.email && errors.email ? 'danger' : 'basic'}\r\n            caption={touched.email && errors.email ? errors.email : ''}\r\n          />\r\n          <Input\r\n            label=\"Password\"\r\n            onChangeText={handleChange('password')}\r\n            onBlur={handleBlur('password')}\r\n            value={values.password}\r\n            placeholder=\"Password\"\r\n            secureTextEntry\r\n            style={[styles.input, theme === 'dark' ? styles.darkInput : styles.lightInput]}\r\n            textStyle={{ color: theme === 'dark' ? '#FFFFFF' : '#222B45' }}\r\n            status={touched.password && errors.password ? 'danger' : 'basic'}\r\n            caption={touched.password && errors.password ? errors.password : ''}\r\n          />\r\n          <Button onPress={handleSubmit} style={styles.button}>\r\n            Login\r\n          </Button>\r\n          <View style={styles.registerContainer}>\r\n            <Text style={[styles.text, theme === 'dark' ? styles.darkText : styles.lightText]}>Already registered?</Text>\r\n            <Button onPress={() => navigation.navigate('Register')} appearance='ghost'>\r\n              Register\r\n            </Button>\r\n          </View>\r\n        </Layout>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 16,\r\n  },\r\n  darkContainer: {\r\n    backgroundColor: '#222B45',\r\n  },\r\n  lightContainer: {\r\n    backgroundColor: '#fff',\r\n  },\r\n  logo: {\r\n    width: 200,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n    alignSelf: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  darkText: {\r\n    color: '#FFFFFF',\r\n  },\r\n  lightText: {\r\n    color: '#222B45',\r\n  },\r\n  input: {\r\n    marginBottom: 12,\r\n  },\r\n  darkInput: {\r\n    backgroundColor: '#333B50',\r\n  },\r\n  lightInput: {\r\n    backgroundColor: '#F7F9FC',\r\n  },\r\n  button: {\r\n    marginVertical: 8,\r\n  },\r\n  registerContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginTop: 16,\r\n  },\r\n  text: {\r\n    marginRight: 8,\r\n  },\r\n});\r\n\r\nexport default LoginScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}